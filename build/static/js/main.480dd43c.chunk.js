(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,function(e,t,c){e.exports={movie:"Movie_movie__3t2aU","movie__poster-box":"Movie_movie__poster-box__1q0aC",movie__poster:"Movie_movie__poster__2ROCv",movie__detailes:"Movie_movie__detailes__3h7_Z",movie__title:"Movie_movie__title__24sAG",movie__rating:"Movie_movie__rating__1ur3g",movie__description:"Movie_movie__description__1SLwp",movie__btn:"Movie_movie__btn__3GlwM"}},,,,function(e,t,c){e.exports={button:"HeaderAddButton_button__1PHg_",icon:"HeaderAddButton_icon__3Jbzb",badge:"HeaderAddButton_badge__1OnLn",bump:"HeaderAddButton_bump__1G81s"}},,function(e,t,c){e.exports={"queue-items":"Queue_queue-items__1PdQ5",actions:"Queue_actions__1TlOH","button--alt":"Queue_button--alt__5a_IR",button:"Queue_button__20_83"}},,function(e,t,c){e.exports={header:"Header_header__MNeU6","main-image":"Header_main-image__2jGUW"}},,function(e,t,c){e.exports={movies:"AvailableMovies_movies__128dF","movies-appear":"AvailableMovies_movies-appear__AKwZD",error:"AvailableMovies_error__1x4XM"}},function(e,t,c){e.exports={search:"SearchForm_search__FytPy",search__btn:"SearchForm_search__btn__2Thlk"}},function(e,t,c){e.exports={modal:"ModalOverlay_modal__2MSxY","slide-down":"ModalOverlay_slide-down__sc8dB"}},function(e,t,c){e.exports={"queue-item":"QueueItem_queue-item__2y8L6",summary:"QueueItem_summary__3Vvk8",actions:"QueueItem_actions__awULW"}},function(e,t,c){e.exports={summary:"Summary_summary__qVHKh"}},,function(e,t,c){e.exports={input:"Input_input__2inNH"}},function(e,t,c){e.exports={backdrop:"Backdrop_backdrop__2eh7c"}},,,,,,function(e,t,c){},,,function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),i=(c(26),c(2)),r=c(1),s=c.n(r),o=c(11),l=c.n(o),u=c.p+"static/media/header-bg.2a649528.jpg",m=c(7),d=c.n(m),j=c(0),_=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100.49 122.88",fill:"currentColor",children:Object(j.jsx)("path",{d:"M4.38,62.41c-0.66-0.62-1.24-1.31-1.75-2.04c-1.62-2.33-2.45-5.12-2.6-7.98c-0.15-2.74,0.31-5.57,1.28-8.12 c0.8-2.11,1.96-4.05,3.42-5.64c-1.03-2.68-1.37-5.48-1.12-8.19c0.29-3.1,1.34-6.07,3-8.66c1.66-2.58,3.93-4.8,6.65-6.39 c2.47-1.44,5.31-2.35,8.4-2.52c1.71-4.66,4.97-8.02,8.92-10.15c2.43-1.31,5.12-2.14,7.87-2.5c2.71-0.36,5.48-0.26,8.09,0.28 c4.14,0.86,7.92,2.85,10.54,5.91c4.4-1.39,9.32-1.13,13.71,0.43c2.37,0.84,4.61,2.06,6.54,3.62c1.98,1.59,3.65,3.53,4.82,5.76 c1.47,2.8,2.17,6.01,1.74,9.5c2.87,0.77,5.5,2.21,7.79,4.15c2.76,2.33,5.02,5.39,6.56,8.84c1.53,3.43,2.35,7.25,2.23,11.12 c-0.15,4.86-1.75,9.78-5.23,14.1l-12.19,58.98H66.57l2.77-64.53h21.28c1.87-2.75,2.75-5.77,2.84-8.74c0.09-2.8-0.51-5.57-1.62-8.07 c-1.11-2.48-2.73-4.67-4.69-6.33c-2.2-1.86-4.84-3.03-7.63-3.12l-4.83-0.15l1.61-4.53c1.08-3.05,0.79-5.75-0.36-7.94 c-0.71-1.35-1.75-2.55-3-3.55c-1.3-1.04-2.83-1.88-4.47-2.46c-3.67-1.3-7.78-1.32-11.01,0.37l-3.08,1.62l-1.65-3.06 c-1.41-2.62-4.29-4.32-7.6-5.01c-1.85-0.38-3.82-0.45-5.75-0.2C37.46,7.43,35.6,8,33.92,8.91c-2.99,1.61-5.37,4.34-6.18,8.23 l-0.64,3.07l-3.12-0.29c-2.69-0.25-5.15,0.36-7.2,1.55c-1.73,1.01-3.19,2.43-4.25,4.1c-1.07,1.67-1.75,3.56-1.93,5.5 c-0.21,2.22,0.23,4.53,1.47,6.67l1.63,2.8l-2.66,1.85c-1.36,0.95-2.46,2.54-3.16,4.39C7.25,48.44,6.95,50.26,7.04,52 c0.09,1.61,0.52,3.14,1.37,4.35c0.57,0.82,1.36,1.51,2.37,2h0.75h18.47l5.34,64.53H16.82L4.38,62.41L4.38,62.41z M62.1,26.24 c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55c-2.51,0-4.55-2.04-4.55-4.55C57.56,28.27,59.59,26.24,62.1,26.24 L62.1,26.24z M48.16,40.33c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55c-2.51,0-4.55-2.04-4.55-4.55 C43.61,42.37,45.65,40.33,48.16,40.33L48.16,40.33z M28.46,31.69c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55 s-4.55-2.04-4.55-4.55C23.91,33.73,25.94,31.69,28.46,31.69L28.46,31.69z M59.95,122.88H42l-5.34-64.53h26.06L59.95,122.88 L59.95,122.88z"})})},b=s.a.createContext({items:[],addItem:function(e){},removeItem:function(e){}}),h=function(e){var t=Object(r.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],s=Object(r.useContext)(b),o=s.items.length,l=s.items,u="".concat(d.a.button," ").concat(n?d.a.bump:"");return Object(r.useEffect)((function(){if(0!==l.length){a(!0);var e=setTimeout((function(){return a(!1)}),300);return function(){clearTimeout(e)}}}),[l]),Object(j.jsxs)("button",{onClick:e.onClick,type:e.type,className:u,children:[Object(j.jsx)("span",{className:d.a.icon,children:Object(j.jsx)(_,{})}),Object(j.jsx)("span",{children:e.children}),Object(j.jsx)("span",{className:d.a.badge,children:o})]})},v=function(e){return Object(j.jsxs)(s.a.Fragment,{children:[Object(j.jsxs)("header",{className:l.a.header,children:[Object(j.jsx)("h1",{children:"Cinematic DB"}),Object(j.jsx)(h,{onClick:e.onToggleQueue,type:"button",children:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430"})]}),Object(j.jsx)("div",{className:l.a["main-image"],children:Object(j.jsx)("img",{src:u,alt:"Movies"})})]})},p=c(17),x=c.n(p),O=function(){return Object(j.jsxs)("section",{className:x.a.summary,children:[Object(j.jsx)("h2",{children:"\u0418\u0449\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u043b\u044e\u0431\u0438\u043c\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(j.jsx)("p",{children:"\u0412\u044b\u0431\u0438\u0440\u0430\u0439\u0442\u0435 \u0438\u0437 \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u043e\u0432,"}),Object(j.jsx)("p",{children:"\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c."})]})},f=c(18),g=c(12),y=c.n(g),N=c(13),C=c.n(N),M=c(3),w=c.n(M),k=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.09px",height:"20.09px",viewBox:"0 0 36.09 36.09",fill:"currentColor",children:Object(j.jsx)("path",{d:"M36.042,13.909c-0.123-0.377-0.456-0.646-0.85-0.688l-11.549-1.172L18.96,1.43c-0.16-0.36-0.519-0.596-0.915-0.596\r s-0.755,0.234-0.915,0.598L12.446,12.05L0.899,13.221c-0.394,0.04-0.728,0.312-0.85,0.688c-0.123,0.377-0.011,0.791,0.285,1.055\r l8.652,7.738L6.533,34.045c-0.083,0.387,0.069,0.787,0.39,1.02c0.175,0.127,0.381,0.191,0.588,0.191\r c0.173,0,0.347-0.045,0.503-0.137l10.032-5.84l10.03,5.84c0.342,0.197,0.77,0.178,1.091-0.059c0.32-0.229,0.474-0.633,0.391-1.02\r l-2.453-11.344l8.653-7.737C36.052,14.699,36.165,14.285,36.042,13.909z M25.336,21.598c-0.268,0.24-0.387,0.605-0.311,0.957\r l2.097,9.695l-8.574-4.99c-0.311-0.182-0.695-0.182-1.006,0l-8.576,4.99l2.097-9.695c0.076-0.352-0.043-0.717-0.311-0.957\r l-7.396-6.613l9.87-1.002c0.358-0.035,0.668-0.264,0.814-0.592l4.004-9.077l4.003,9.077c0.146,0.328,0.456,0.557,0.814,0.592\r l9.87,1.002L25.336,21.598z"})})},I=function(e){var t=Object(r.useContext)(b);return Object(j.jsxs)("article",{id:e.id,className:w.a.movie,children:[Object(j.jsx)("div",{className:w.a["movie__poster-box"],children:Object(j.jsx)("img",{src:e.poster,alt:e.name,className:w.a.movie__poster})}),Object(j.jsxs)("div",{className:w.a.movie__detailes,children:[Object(j.jsxs)("h3",{className:w.a.movie__title,children:[e.name," ",Object(j.jsxs)("span",{children:["(",e.year?e.year.slice(0,4):"\u0413\u043e\u0434 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d",")"]})]}),Object(j.jsxs)("div",{className:w.a.movie__rating,children:[Object(j.jsx)(k,{}),e.rating]}),Object(j.jsxs)("p",{className:w.a.movie__description,children:[e.summary?e.summary:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e","..."]}),Object(j.jsx)("button",{className:w.a.movie__btn,onClick:function(){t.addItem({name:e.name,id:e.id})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c"})]})]})},L=function(e){var t=Object(r.useState)([]),c=Object(i.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(f.a)(y.a.mark((function t(){var c,n,i,r,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=e.searchResult,t.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=32d5ad6c4894ac245c2a9a46fa82b701&include_adult=false&query=".concat(c,"&language=ru-RU"));case 4:return n=t.sent,t.next=7,n.json();case 7:if(i=t.sent,n.ok&&402!==n.status){t.next=11;break}throw u("\u041a\u0438\u043d\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442! \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),new Error("Movie not found");case 11:r=i.results.filter((function(e){return e.poster_path})),s=r.map((function(e){return{id:e.id,title:e.title,summary:e.overview,poster:null!==e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"\u041f\u043e\u0441\u0442\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435",year:e.release_date,rating:e.vote_average}})),a(s),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.searchResult]),Object(j.jsxs)("section",{className:C.a.movies,children:[n.map((function(e){return Object(j.jsx)(I,{name:e.title,id:e.id,poster:e.poster,year:e.year,rating:e.rating,summary:e.summary},e.id)})),l&&Object(j.jsx)("p",{className:C.a.error,children:l})]})},S=c(19),H=c.n(S),Q=function(e){return Object(j.jsxs)("div",{className:H.a.input,children:[Object(j.jsx)("label",{htmlFor:e.id,children:e.label}),Object(j.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:e.onChange})]})},A=c(14),B=c.n(A),R=function(e){var t=Object(r.useState)(),c=Object(i.a)(t,2),n=c[0],a=c[1];return Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSearchName(n)},className:B.a.search,children:[Object(j.jsx)(Q,{type:"text",id:"search-movie",label:"\u0418\u0449\u0438 \u0444\u0438\u043b\u044c\u043c\u044b",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435?",onChange:function(e){a(e.target.value)}}),Object(j.jsx)("button",{className:B.a.search__btn,children:"\u041f\u043e\u0438\u0441\u043a"})]})},T=function(e){var t=Object(r.useState)("\u0413\u0430\u0440\u0440\u0438"),c=Object(i.a)(t,2),n=c[0],a=c[1];return Object(j.jsxs)(s.a.Fragment,{children:[Object(j.jsx)(O,{}),Object(j.jsx)(R,{onSearchName:function(e){a(e)}}),Object(j.jsx)(L,{searchResult:n})]})},q=c(6),E=c(9),z=c.n(E),F=c(20),D=c.n(F),P=function(e){return Object(j.jsx)("div",{onClick:e.onClick,className:D.a.backdrop})},U=c(15),G=c.n(U),V=function(e){return Object(j.jsx)("div",{className:G.a.modal,children:Object(j.jsx)("div",{className:G.a.content,children:e.children})})},J=document.getElementById("overlays"),K=function(e){return Object(j.jsxs)(s.a.Fragment,{children:[a.a.createPortal(Object(j.jsx)(P,{onClick:e.onToggleCart}),J),a.a.createPortal(Object(j.jsx)(V,{children:e.children}),J)]})},W=c(16),Z=c.n(W),X=function(e){return Object(j.jsxs)("li",{className:Z.a["queue-item"],children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("div",{className:Z.a.actions,children:Object(j.jsx)("button",{onClick:e.onRemove,children:"\u0423\u0431\u0440\u0430\u0442\u044c"})})]})},Y=function(e){var t=Object(r.useContext)(b),c=function(e){t.removeItem(Object(q.a)({},e))},n=function(e){t.addItem(Object(q.a)({},e))};console.log(t);var a=Object(j.jsx)("ul",{className:z.a["queue-items"],children:t.items.map((function(e){return Object(j.jsx)(X,{name:e.name,onRemove:c.bind(null,e),onAdd:n.bind(null,e)},e.id)}))});return Object(j.jsxs)(K,{onToggleCart:e.onToggleQueue,children:[a,Object(j.jsx)("div",{className:z.a.actions,children:Object(j.jsx)("button",{onClick:e.onToggleQueue,className:z.a["button--alt"],children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})},$=c(21),ee={items:[]},te=function(e,t){if("ADD"===t.type){var c,n=e.items.findIndex((function(e){return e.name===t.item.name})),a=e.items[n];if(a){var i=Object(q.a)({},a);(c=Object($.a)(e.items))[n]=i}else c=e.items.concat(t.item);return{items:c}}if("REMOVE"===t.type){var r,s=e.items.findIndex((function(e){return e.id===t.item.id}));return e.items[s].id===t.item.id&&(r=e.items.filter((function(e){return e.id!==t.item.id}))),{items:r}}return ee},ce=function(e){var t=Object(r.useReducer)(te,ee),c=Object(i.a)(t,2),n=c[0],a=c[1],s={items:n.items,addItem:function(e){a({type:"ADD",item:e})},removeItem:function(e){a({type:"REMOVE",item:e})}};return Object(j.jsx)(b.Provider,{value:s,children:e.children})};var ne=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],a=function(){!c&&n(!0),c&&n(!1)};return Object(j.jsxs)(ce,{children:[c&&Object(j.jsx)(Y,{onToggleQueue:a}),Object(j.jsx)(v,{onToggleQueue:a}),Object(j.jsx)("main",{children:Object(j.jsx)(T,{})})]})};a.a.render(Object(j.jsx)(ne,{}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.480dd43c.chunk.js.map