{"version":3,"sources":["components/Movies/Movie/Movie.module.css","components/Layout/HeaderAddButton.module.css","components/Queue/Queue.module.css","components/Layout/Header.module.css","components/Movies/AvailableMovies.module.css","components/UI/SearchForm.module.css","components/UI/ModalOverlay.module.css","components/Queue/QueueItem.module.css","components/Movies/Summary.module.css","components/UI/Input.module.css","components/UI/Backdrop.module.css","img/header-bg.jpg","components/UI/PopcornIcon.jsx","store/queue-context.js","components/Layout/HeaderAddButton.jsx","components/Layout/Header.jsx","components/Movies/Summary.jsx","components/UI/StarIcon.jsx","components/Movies/Movie/Movie.jsx","components/Movies/AvailableMovies.jsx","components/UI/Input.jsx","components/UI/SearchForm.jsx","components/Movies/Movies.jsx","components/UI/Backdrop.jsx","components/UI/ModalOverlay.jsx","components/UI/Modal.jsx","components/Queue/QueueItem.jsx","components/Queue/Queue.jsx","store/QueueProvider.jsx","App.js","index.js"],"names":["module","exports","PopcornIcon","xmlns","x","y","viewBox","fill","d","QueueContext","React","createContext","items","addItem","item","removeItem","id","HeaderAddButton","props","useState","btnState","setBtnState","queueContext","useContext","queueItemsAmount","length","btnClasses","classes","button","bump","useEffect","timer","setTimeout","clearTimeout","onClick","type","className","icon","children","badge","Header","Fragment","header","onToggleQueue","src","bg","alt","Summary","summary","StarIcon","width","height","Movie","movie","poster","name","year","slice","rating","AvailableMovies","movies","setMovies","error","setError","fetchMovies","a","request","searchResult","fetch","res","json","resData","ok","status","Error","filteredData","results","filter","data","poster_path","map","result","title","overview","release_date","vote_average","console","Input","input","htmlFor","label","placeholder","onChange","SearchForm","enteredName","setEnteredName","onSubmit","e","preventDefault","onSearchName","search","target","value","Movies","setSearchResult","Backdrop","backdrop","ModalOverlay","modal","content","overlays","document","getElementById","Modal","ReactDOM","createPortal","onToggleCart","QueueItem","actions","onRemove","Queue","removeItemHandler","addItemHandler","log","cartItems","bind","onAdd","defaultQueueState","queueReducer","state","action","updatedItems","existingQueueItemIndex","findIndex","existingQueueItem","updatedItem","concat","QueueProvider","useReducer","queueState","dispatchQueueState","Provider","App","openQueue","setOpenQueue","toggleQueueHandler","render"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,oBAAoB,iCAAiC,cAAgB,6BAA6B,gBAAkB,+BAA+B,aAAe,4BAA4B,cAAgB,6BAA6B,mBAAqB,kCAAkC,WAAa,4B,mBCA9VD,EAAOC,QAAU,CAAC,OAAS,gCAAgC,KAAO,8BAA8B,MAAQ,+BAA+B,KAAO,gC,iBCA9ID,EAAOC,QAAU,CAAC,cAAc,2BAA2B,QAAU,uBAAuB,cAAc,2BAA2B,OAAS,wB,iBCA9ID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAa,6B,iBCA/DD,EAAOC,QAAU,CAAC,OAAS,gCAAgC,gBAAgB,uCAAuC,MAAQ,iC,gBCA1HD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,YAAc,kC,gBCApED,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,aAAa,mC,gBCAnED,EAAOC,QAAU,CAAC,aAAa,8BAA8B,QAAU,2BAA2B,QAAU,6B,gBCA5GD,EAAOC,QAAU,CAAC,QAAU,2B,iBCA5BD,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,SAAW,6B,iICDd,MAA0B,sC,uBCc1BC,EAdK,WAClB,OACE,qBACEC,MAAM,6BACNC,EAAE,MACFC,EAAE,MACFC,QAAQ,oBACRC,KAAK,eALP,SAOE,sBAAMC,EAAE,61DCDCC,EANMC,IAAMC,cAAc,CACvCC,MAAO,GACPC,QAAS,SAAAC,KACTC,WAAY,SAAAC,OC+BCC,EA/BS,SAAAC,GACtB,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAeC,qBAAWd,GAE1Be,EAAmBF,EAAaV,MAAMa,OAEpCb,EAAUU,EAAVV,MAEFc,EAAU,UAAMC,IAAQC,OAAd,YAAwBR,EAAWO,IAAQE,KAAO,IAWlE,OATAC,qBAAU,WACR,GAAqB,IAAjBlB,EAAMa,OAAV,CACAJ,GAAY,GACZ,IAAMU,EAAQC,YAAW,kBAAMX,GAAY,KAAQ,KACnD,OAAO,WACLY,aAAaF,OAEd,CAACnB,IAGF,yBAAQsB,QAAShB,EAAMgB,QAASC,KAAMjB,EAAMiB,KAAMC,UAAWV,EAA7D,UACE,sBAAMU,UAAWT,IAAQU,KAAzB,SACE,cAAC,EAAD,MAEF,+BAAOnB,EAAMoB,WACb,sBAAMF,UAAWT,IAAQY,MAAzB,SAAiCf,QCVxBgB,EAhBA,SAAAtB,GACb,OACE,eAAC,IAAMuB,SAAP,WACE,yBAAQL,UAAWT,IAAQe,OAA3B,UACE,8CACA,cAAC,EAAD,CAAiBR,QAAShB,EAAMyB,cAAeR,KAAM,SAArD,kHAIF,qBAAKC,UAAWT,IAAQ,cAAxB,SACE,qBAAKiB,IAAKC,EAAIC,IAAI,iB,iBCFXC,EAVC,WACd,OACE,0BAASX,UAAWT,IAAQqB,QAA5B,UACE,yKACA,wPACA,0S,0DCeSC,EAvBE,WACf,OACE,qBACE9C,MAAM,6BACN+C,MAAM,UACNC,OAAO,UACP7C,QAAQ,kBACRC,KAAK,eALP,SAOE,sBACEC,EAAE,i2BCqCK4C,EA1CD,SAAAlC,GACZ,IAAMI,EAAeC,qBAAWd,GAShC,OACE,0BAASO,GAAIE,EAAMF,GAAIoB,UAAWT,IAAQ0B,MAA1C,UACE,qBAAKjB,UAAWT,IAAQ,qBAAxB,SACE,qBACEiB,IAAK1B,EAAMoC,OACXR,IAAK5B,EAAMqC,KACXnB,UAAWT,IAAO,kBAItB,sBAAKS,UAAWT,IAAO,gBAAvB,UACE,qBAAIS,UAAWT,IAAO,aAAtB,UACGT,EAAMqC,KAAM,IACb,qCACIrC,EAAMsC,KAAOtC,EAAMsC,KAAKC,MAAM,EAAG,GAAK,kFAD1C,UAIF,sBAAKrB,UAAWT,IAAO,cAAvB,UACE,cAAC,EAAD,IACCT,EAAMwC,UAET,oBAAGtB,UAAWT,IAAO,mBAArB,UACGT,EAAM8B,QAAU9B,EAAM8B,QAAU,gHADnC,SAGA,wBAAQZ,UAAWT,IAAO,WAAgBO,QA/BtB,WACxBZ,EAAaT,QAAQ,CACnB0C,KAAMrC,EAAMqC,KACZvC,GAAIE,EAAMF,MA4BR,uHC2BO2C,EA9DS,SAAAzC,GACtB,MAA4BC,mBAAS,IAArC,mBAAOyC,EAAP,KAAeC,EAAf,KACA,EAA0B1C,mBAAS,MAAnC,mBAAO2C,EAAP,KAAcC,EAAd,KAwCA,OAtCAjC,qBAAU,WACR,IAAMkC,EAAW,uCAAG,oCAAAC,EAAA,sEAEVC,EAAUhD,EAAMiD,aAFN,SAGEC,MAAM,gHAAD,OAC2FF,EAD3F,oBAHP,cAGVG,EAHU,gBAMMA,EAAIC,OANV,UAMVC,EANU,OAOXF,EAAIG,IAAqB,MAAfH,EAAII,OAPH,uBAQdV,EAAS,qKACH,IAAIW,MAAM,mBATF,QAYVC,EAAeJ,EAAQK,QAAQC,QAAO,SAAAC,GAAI,OAAIA,EAAKC,eAEnDnB,EAASe,EAAaK,KAAI,SAAAC,GAC9B,MAAO,CACLjE,GAAIiE,EAAOjE,GACXkE,MAAOD,EAAOC,MACdlC,QAASiC,EAAOE,SAChB7B,OACyB,OAAvB2B,EAAOF,YAAP,yCACsCE,EAAOF,aACzC,2IACNvB,KAAMyB,EAAOG,aACb1B,OAAQuB,EAAOI,iBAInBxB,EAAUD,GA5BM,kDA8BhB0B,QAAQxB,MAAR,MA9BgB,0DAAH,qDAkCjBE,MACC,CAAC9C,EAAMiD,eAGR,0BAAS/B,UAAWT,IAAQiC,OAA5B,UACGA,EAAOoB,KAAI,SAAA3B,GACV,OACE,cAAC,EAAD,CACEE,KAAMF,EAAM6B,MACZlE,GAAIqC,EAAMrC,GAEVsC,OAAQD,EAAMC,OACdE,KAAMH,EAAMG,KACZE,OAAQL,EAAMK,OACdV,QAASK,EAAML,SAJVK,EAAMrC,OAQhB8C,GAAS,mBAAG1B,UAAWT,IAAQmC,MAAtB,SAA8BA,Q,iBC5C/ByB,EAdD,SAAArE,GACZ,OACE,sBAAKkB,UAAWT,IAAQ6D,MAAxB,UACE,uBAAOC,QAASvE,EAAMF,GAAtB,SAA2BE,EAAMwE,QACjC,uBACE1E,GAAIE,EAAMF,GACVmB,KAAMjB,EAAMiB,KACZwD,YAAazE,EAAMyE,YACnBC,SAAU1E,EAAM0E,e,iBCmBTC,EA1BI,SAAA3E,GACjB,MAAsCC,qBAAtC,mBAAO2E,EAAP,KAAoBC,EAApB,KAWA,OACE,uBAAMC,SANkB,SAAAC,GACxBA,EAAEC,iBACFhF,EAAMiF,aAAaL,IAIgB1D,UAAWT,IAAQyE,OAAtD,UACE,cAAC,EAAD,CACEjE,KAAM,OACNnB,GAAI,eACJ0E,MAAO,0DACPC,YAAa,oDACbC,SAhBmB,SAAAK,GACvBF,EAAeE,EAAEI,OAAOC,UAiBtB,wBAAQlE,UAAWT,IAAO,YAA1B,gDCJS4E,EAhBA,SAAArF,GACb,MAAwCC,mBAAS,kCAAjD,mBAAOgD,EAAP,KAAqBqC,EAArB,KAMA,OACE,eAAC,IAAM/D,SAAP,WACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAY0D,aAPU,SAAA5C,GACxBiD,EAAgBjD,MAOd,cAAC,EAAD,CAAiBY,aAAcA,Q,wCCTtBsC,EAJE,SAAAvF,GACf,OAAO,qBAAKgB,QAAShB,EAAMgB,QAASE,UAAWT,IAAQ+E,Y,iBCO1CC,EARM,SAAAzF,GACnB,OACE,qBAAKkB,UAAWT,IAAQiF,MAAxB,SACE,qBAAKxE,UAAWT,IAAQkF,QAAxB,SAAkC3F,EAAMoB,cCDxCwE,EAAWC,SAASC,eAAe,YAiB1BC,EAfD,SAAA/F,GACZ,OACE,eAAC,IAAMuB,SAAP,WACGyE,IAASC,aACR,cAAC,EAAD,CAAUjF,QAAShB,EAAMkG,eACzBN,GAEDI,IAASC,aACR,cAAC,EAAD,UAAejG,EAAMoB,WACrBwE,O,iBCFOO,EAXG,SAAAnG,GAChB,OACE,qBAAIkB,UAAWT,IAAQ,cAAvB,UACE,6BAAKT,EAAMqC,OACX,qBAAKnB,UAAWT,IAAQ2F,QAAxB,SACE,wBAAQpF,QAAShB,EAAMqG,SAAvB,wDCuCOC,EAzCD,SAAAtG,GACZ,IAAMI,EAAeC,qBAAWd,GAE1BgH,EAAoB,SAAA3G,GACxBQ,EAAaP,WAAb,eAA6BD,KAGzB4G,EAAiB,SAAA5G,GACrBQ,EAAaT,QAAb,eAA0BC,KAG5BwE,QAAQqC,IAAIrG,GAEZ,IAAMsG,EACJ,oBAAIxF,UAAWT,IAAQ,eAAvB,SACGL,EAAaV,MAAMoE,KAAI,SAAAlE,GAAI,OAC1B,cAAC,EAAD,CAEEyC,KAAMzC,EAAKyC,KACXgE,SAAUE,EAAkBI,KAAK,KAAM/G,GACvCgH,MAAOJ,EAAeG,KAAK,KAAM/G,IAH5BA,EAAKE,SASlB,OACE,eAAC,EAAD,CAAOoG,aAAclG,EAAMyB,cAA3B,UACGiF,EACD,qBAAKxF,UAAWT,IAAQ2F,QAAxB,SACE,wBACEpF,QAAShB,EAAMyB,cACfP,UAAWT,IAAQ,eAFrB,8D,QCjCFoG,GAAoB,CACxBnH,MAAO,IAGHoH,GAAe,SAACC,EAAOC,GAC3B,GAAoB,QAAhBA,EAAO/F,KAAgB,CACzB,IAKIgG,EALEC,EAAyBH,EAAMrH,MAAMyH,WACzC,SAAAvH,GAAI,OAAIA,EAAKyC,OAAS2E,EAAOpH,KAAKyC,QAG9B+E,EAAoBL,EAAMrH,MAAMwH,GAGtC,GAAIE,EAAmB,CACrB,IAAMC,EAAW,eACZD,IAELH,EAAY,YAAOF,EAAMrH,QACZwH,GAA0BG,OAEvCJ,EAAeF,EAAMrH,MAAM4H,OAAON,EAAOpH,MAG3C,MAAO,CACLF,MAAOuH,GAIX,GAAoB,WAAhBD,EAAO/F,KAAmB,CAC5B,IAMIgG,EANEC,EAAyBH,EAAMrH,MAAMyH,WACzC,SAAAvH,GAAI,OAAIA,EAAKE,KAAOkH,EAAOpH,KAAKE,MAUlC,OAPqBiH,EAAMrH,MAAMwH,GAGhBpH,KAAOkH,EAAOpH,KAAKE,KAClCmH,EAAeF,EAAMrH,MAAMiE,QAAO,SAAA/D,GAAI,OAAIA,EAAKE,KAAOkH,EAAOpH,KAAKE,OAG7D,CACLJ,MAAOuH,GAGX,OAAOJ,IAmCMU,GAhCO,SAAAvH,GACpB,MAAyCwH,qBACvCV,GACAD,IAFF,mBAAOY,EAAP,KAAmBC,EAAnB,KAkBMtH,EAAe,CACnBV,MAAO+H,EAAW/H,MAClBC,QAf4B,SAAAC,GAC5B8H,EAAmB,CACjBzG,KAAM,MACNrB,KAAMA,KAaRC,WAViC,SAAAD,GACjC8H,EAAmB,CACjBzG,KAAM,SACNrB,KAAMA,MAUV,OACE,cAAC,EAAa+H,SAAd,CAAuBvC,MAAOhF,EAA9B,SACGJ,EAAMoB,YCpDEwG,OAnBf,WACE,MAAkC3H,oBAAS,GAA3C,mBAAO4H,EAAP,KAAkBC,EAAlB,KAEMC,EAAqB,YACxBF,GAAaC,GAAa,GAC3BD,GAAaC,GAAa,IAG5B,OACE,eAAC,GAAD,WACGD,GAAa,cAAC,EAAD,CAAOpG,cAAesG,IACpC,cAAC,EAAD,CAAQtG,cAAesG,IACvB,+BACE,cAAC,EAAD,UCdR/B,IAASgC,OAAO,cAAC,GAAD,IAASnC,SAASC,eAAe,W","file":"static/js/main.480dd43c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"Movie_movie__3t2aU\",\"movie__poster-box\":\"Movie_movie__poster-box__1q0aC\",\"movie__poster\":\"Movie_movie__poster__2ROCv\",\"movie__detailes\":\"Movie_movie__detailes__3h7_Z\",\"movie__title\":\"Movie_movie__title__24sAG\",\"movie__rating\":\"Movie_movie__rating__1ur3g\",\"movie__description\":\"Movie_movie__description__1SLwp\",\"movie__btn\":\"Movie_movie__btn__3GlwM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderAddButton_button__1PHg_\",\"icon\":\"HeaderAddButton_icon__3Jbzb\",\"badge\":\"HeaderAddButton_badge__1OnLn\",\"bump\":\"HeaderAddButton_bump__1G81s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue-items\":\"Queue_queue-items__1PdQ5\",\"actions\":\"Queue_actions__1TlOH\",\"button--alt\":\"Queue_button--alt__5a_IR\",\"button\":\"Queue_button__20_83\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__MNeU6\",\"main-image\":\"Header_main-image__2jGUW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movies\":\"AvailableMovies_movies__128dF\",\"movies-appear\":\"AvailableMovies_movies-appear__AKwZD\",\"error\":\"AvailableMovies_error__1x4XM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"SearchForm_search__FytPy\",\"search__btn\":\"SearchForm_search__btn__2Thlk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalOverlay_modal__2MSxY\",\"slide-down\":\"ModalOverlay_slide-down__sc8dB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"queue-item\":\"QueueItem_queue-item__2y8L6\",\"summary\":\"QueueItem_summary__3Vvk8\",\"actions\":\"QueueItem_actions__awULW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"Summary_summary__qVHKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2inNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Backdrop_backdrop__2eh7c\"};","export default __webpack_public_path__ + \"static/media/header-bg.2a649528.jpg\";","const PopcornIcon = () => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      x='0px'\n      y='0px'\n      viewBox='0 0 100.49 122.88'\n      fill='currentColor'\n    >\n      <path d='M4.38,62.41c-0.66-0.62-1.24-1.31-1.75-2.04c-1.62-2.33-2.45-5.12-2.6-7.98c-0.15-2.74,0.31-5.57,1.28-8.12 c0.8-2.11,1.96-4.05,3.42-5.64c-1.03-2.68-1.37-5.48-1.12-8.19c0.29-3.1,1.34-6.07,3-8.66c1.66-2.58,3.93-4.8,6.65-6.39 c2.47-1.44,5.31-2.35,8.4-2.52c1.71-4.66,4.97-8.02,8.92-10.15c2.43-1.31,5.12-2.14,7.87-2.5c2.71-0.36,5.48-0.26,8.09,0.28 c4.14,0.86,7.92,2.85,10.54,5.91c4.4-1.39,9.32-1.13,13.71,0.43c2.37,0.84,4.61,2.06,6.54,3.62c1.98,1.59,3.65,3.53,4.82,5.76 c1.47,2.8,2.17,6.01,1.74,9.5c2.87,0.77,5.5,2.21,7.79,4.15c2.76,2.33,5.02,5.39,6.56,8.84c1.53,3.43,2.35,7.25,2.23,11.12 c-0.15,4.86-1.75,9.78-5.23,14.1l-12.19,58.98H66.57l2.77-64.53h21.28c1.87-2.75,2.75-5.77,2.84-8.74c0.09-2.8-0.51-5.57-1.62-8.07 c-1.11-2.48-2.73-4.67-4.69-6.33c-2.2-1.86-4.84-3.03-7.63-3.12l-4.83-0.15l1.61-4.53c1.08-3.05,0.79-5.75-0.36-7.94 c-0.71-1.35-1.75-2.55-3-3.55c-1.3-1.04-2.83-1.88-4.47-2.46c-3.67-1.3-7.78-1.32-11.01,0.37l-3.08,1.62l-1.65-3.06 c-1.41-2.62-4.29-4.32-7.6-5.01c-1.85-0.38-3.82-0.45-5.75-0.2C37.46,7.43,35.6,8,33.92,8.91c-2.99,1.61-5.37,4.34-6.18,8.23 l-0.64,3.07l-3.12-0.29c-2.69-0.25-5.15,0.36-7.2,1.55c-1.73,1.01-3.19,2.43-4.25,4.1c-1.07,1.67-1.75,3.56-1.93,5.5 c-0.21,2.22,0.23,4.53,1.47,6.67l1.63,2.8l-2.66,1.85c-1.36,0.95-2.46,2.54-3.16,4.39C7.25,48.44,6.95,50.26,7.04,52 c0.09,1.61,0.52,3.14,1.37,4.35c0.57,0.82,1.36,1.51,2.37,2h0.75h18.47l5.34,64.53H16.82L4.38,62.41L4.38,62.41z M62.1,26.24 c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55c-2.51,0-4.55-2.04-4.55-4.55C57.56,28.27,59.59,26.24,62.1,26.24 L62.1,26.24z M48.16,40.33c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55c-2.51,0-4.55-2.04-4.55-4.55 C43.61,42.37,45.65,40.33,48.16,40.33L48.16,40.33z M28.46,31.69c2.51,0,4.55,2.04,4.55,4.55c0,2.51-2.04,4.55-4.55,4.55 s-4.55-2.04-4.55-4.55C23.91,33.73,25.94,31.69,28.46,31.69L28.46,31.69z M59.95,122.88H42l-5.34-64.53h26.06L59.95,122.88 L59.95,122.88z' />\n    </svg>\n  );\n};\n\nexport default PopcornIcon;\n","import React from 'react';\r\n\r\nconst QueueContext = React.createContext({\r\n  items: [],\r\n  addItem: item => {},\r\n  removeItem: id => {},\r\n});\r\n\r\nexport default QueueContext;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport classes from './HeaderAddButton.module.css';\r\nimport PopcornIcon from '../UI/PopcornIcon.jsx';\r\nimport QueueContext from '../../store/queue-context';\r\n\r\nconst HeaderAddButton = props => {\r\n  const [btnState, setBtnState] = useState(false);\r\n\r\n  const queueContext = useContext(QueueContext);\r\n\r\n  const queueItemsAmount = queueContext.items.length;\r\n\r\n  const { items } = queueContext;\r\n\r\n  const btnClasses = `${classes.button} ${btnState ? classes.bump : ''}`;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) return;\r\n    setBtnState(true);\r\n    const timer = setTimeout(() => setBtnState(false), 300);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <button onClick={props.onClick} type={props.type} className={btnClasses}>\r\n      <span className={classes.icon}>\r\n        <PopcornIcon />\r\n      </span>\r\n      <span>{props.children}</span>\r\n      <span className={classes.badge}>{queueItemsAmount}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderAddButton;\r\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport bg from '../../img/header-bg.jpg';\r\nimport HeaderAddButton from './HeaderAddButton';\r\n\r\nconst Header = props => {\r\n  return (\r\n    <React.Fragment>\r\n      <header className={classes.header}>\r\n        <h1>Cinematic DB</h1>\r\n        <HeaderAddButton onClick={props.onToggleQueue} type={'button'}>\r\n          Очередь просмотра\r\n        </HeaderAddButton>\r\n      </header>\r\n      <div className={classes['main-image']}>\r\n        <img src={bg} alt='Movies' />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport classes from './Summary.module.css';\r\n\r\nconst Summary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Ищите свои любимые фильмы</h2>\r\n      <p>Выбирайте из огромной коллекции фильмов,</p>\r\n      <p>и добавляйте в очередь просмотров, чтобы не забыть.</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n","const StarIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='20.09px'\r\n      height='20.09px'\r\n      viewBox='0 0 36.09 36.09'\r\n      fill='currentColor'\r\n    >\r\n      <path\r\n        d='M36.042,13.909c-0.123-0.377-0.456-0.646-0.85-0.688l-11.549-1.172L18.96,1.43c-0.16-0.36-0.519-0.596-0.915-0.596\r\n\t\ts-0.755,0.234-0.915,0.598L12.446,12.05L0.899,13.221c-0.394,0.04-0.728,0.312-0.85,0.688c-0.123,0.377-0.011,0.791,0.285,1.055\r\n\t\tl8.652,7.738L6.533,34.045c-0.083,0.387,0.069,0.787,0.39,1.02c0.175,0.127,0.381,0.191,0.588,0.191\r\n\t\tc0.173,0,0.347-0.045,0.503-0.137l10.032-5.84l10.03,5.84c0.342,0.197,0.77,0.178,1.091-0.059c0.32-0.229,0.474-0.633,0.391-1.02\r\n\t\tl-2.453-11.344l8.653-7.737C36.052,14.699,36.165,14.285,36.042,13.909z M25.336,21.598c-0.268,0.24-0.387,0.605-0.311,0.957\r\n\t\tl2.097,9.695l-8.574-4.99c-0.311-0.182-0.695-0.182-1.006,0l-8.576,4.99l2.097-9.695c0.076-0.352-0.043-0.717-0.311-0.957\r\n\t\tl-7.396-6.613l9.87-1.002c0.358-0.035,0.668-0.264,0.814-0.592l4.004-9.077l4.003,9.077c0.146,0.328,0.456,0.557,0.814,0.592\r\n\t\tl9.87,1.002L25.336,21.598z'\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default StarIcon;\r\n","import React, { useContext } from 'react';\r\nimport classes from './Movie.module.css';\r\nimport QueueContext from '../../../store/queue-context';\r\nimport StarIcon from '../../UI/StarIcon';\r\n\r\nconst Movie = props => {\r\n  const queueContext = useContext(QueueContext);\r\n\r\n  const addToQueueHandler = () => {\r\n    queueContext.addItem({\r\n      name: props.name,\r\n      id: props.id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <article id={props.id} className={classes.movie}>\r\n      <div className={classes['movie__poster-box']}>\r\n        <img\r\n          src={props.poster}\r\n          alt={props.name}\r\n          className={classes['movie__poster']}\r\n        ></img>\r\n      </div>\r\n\r\n      <div className={classes['movie__detailes']}>\r\n        <h3 className={classes['movie__title']}>\r\n          {props.name}{' '}\r\n          <span>\r\n            ({props.year ? props.year.slice(0, 4) : 'Год неизвестен'})\r\n          </span>\r\n        </h3>\r\n        <div className={classes['movie__rating']}>\r\n          <StarIcon />\r\n          {props.rating}\r\n        </div>\r\n        <p className={classes['movie__description']}>\r\n          {props.summary ? props.summary : 'Описание недоступно'}...\r\n        </p>\r\n        <button className={classes['movie__btn']} onClick={addToQueueHandler}>\r\n          Добавить в очередь\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React, { useEffect, useState } from 'react';\r\nimport classes from './AvailableMovies.module.css';\r\nimport Movie from './Movie/Movie.jsx';\r\n\r\nconst AvailableMovies = props => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      try {\r\n        const request = props.searchResult;\r\n        const res = await fetch(\r\n          `https://api.themoviedb.org/3/search/movie?api_key=32d5ad6c4894ac245c2a9a46fa82b701&include_adult=false&query=${request}&language=ru-RU`\r\n        );\r\n        const resData = await res.json();\r\n        if (!res.ok || res.status === 402) {\r\n          setError('Кина не будет! Введите название');\r\n          throw new Error('Movie not found');\r\n        }\r\n\r\n        const filteredData = resData.results.filter(data => data.poster_path);\r\n\r\n        const movies = filteredData.map(result => {\r\n          return {\r\n            id: result.id,\r\n            title: result.title,\r\n            summary: result.overview,\r\n            poster:\r\n              result.poster_path !== null\r\n                ? `https://image.tmdb.org/t/p/w500${result.poster_path}`\r\n                : 'Постер не найден. Извините',\r\n            year: result.release_date,\r\n            rating: result.vote_average,\r\n          };\r\n        });\r\n\r\n        setMovies(movies);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    fetchMovies();\r\n  }, [props.searchResult]);\r\n\r\n  return (\r\n    <section className={classes.movies}>\r\n      {movies.map(movie => {\r\n        return (\r\n          <Movie\r\n            name={movie.title}\r\n            id={movie.id}\r\n            key={movie.id}\r\n            poster={movie.poster}\r\n            year={movie.year}\r\n            rating={movie.rating}\r\n            summary={movie.summary}\r\n          />\r\n        );\r\n      })}\r\n      {error && <p className={classes.error}>{error}</p>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMovies;\r\n","import React from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = props => {\r\n  return (\r\n    <div className={classes.input}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={props.onChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from 'react';\r\nimport Input from './Input';\r\nimport classes from './SearchForm.module.css';\r\n\r\nconst SearchForm = props => {\r\n  const [enteredName, setEnteredName] = useState();\r\n\r\n  const nameInputHandler = e => {\r\n    setEnteredName(e.target.value);\r\n  };\r\n\r\n  const submitNameHandler = e => {\r\n    e.preventDefault();\r\n    props.onSearchName(enteredName);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitNameHandler} className={classes.search}>\r\n      <Input\r\n        type={'text'}\r\n        id={'search-movie'}\r\n        label={'Ищи фильмы'}\r\n        placeholder={'Название?'}\r\n        onChange={nameInputHandler}\r\n      />\r\n      <button className={classes['search__btn']}>Поиск</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { useState } from 'react';\r\nimport Summary from './Summary.jsx';\r\nimport AvailableMovies from './AvailableMovies.jsx';\r\nimport SearchForm from '../UI/SearchForm';\r\n\r\nconst Movies = props => {\r\n  const [searchResult, setSearchResult] = useState('Гарри');\r\n\r\n  const searchNameHandler = name => {\r\n    setSearchResult(name);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Summary />\r\n      <SearchForm onSearchName={searchNameHandler} />\r\n      <AvailableMovies searchResult={searchResult} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import React from 'react';\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst Backdrop = props => {\r\n  return <div onClick={props.onClick} className={classes.backdrop}></div>;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from 'react';\r\nimport classes from './ModalOverlay.module.css';\r\n\r\nconst ModalOverlay = props => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalOverlay;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Backdrop from './Backdrop';\r\nimport ModalOverlay from './ModalOverlay';\r\n\r\nconst overlays = document.getElementById('overlays');\r\n\r\nconst Modal = props => {\r\n  return (\r\n    <React.Fragment>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onClick={props.onToggleCart} />,\r\n        overlays\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        overlays\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport classes from './QueueItem.module.css';\r\n\r\nconst QueueItem = props => {\r\n  return (\r\n    <li className={classes['queue-item']}>\r\n      <h2>{props.name}</h2>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>Убрать</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default QueueItem;\r\n","import React, { useContext } from 'react';\r\nimport classes from './Queue.module.css';\r\nimport Modal from '../UI/Modal';\r\nimport QueueContext from '../../store/queue-context';\r\nimport QueueItem from './QueueItem';\r\n\r\nconst Queue = props => {\r\n  const queueContext = useContext(QueueContext);\r\n\r\n  const removeItemHandler = item => {\r\n    queueContext.removeItem({ ...item });\r\n  };\r\n\r\n  const addItemHandler = item => {\r\n    queueContext.addItem({ ...item });\r\n  };\r\n\r\n  console.log(queueContext);\r\n\r\n  const cartItems = (\r\n    <ul className={classes['queue-items']}>\r\n      {queueContext.items.map(item => (\r\n        <QueueItem\r\n          key={item.id}\r\n          name={item.name}\r\n          onRemove={removeItemHandler.bind(null, item)}\r\n          onAdd={addItemHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  return (\r\n    <Modal onToggleCart={props.onToggleQueue}>\r\n      {cartItems}\r\n      <div className={classes.actions}>\r\n        <button\r\n          onClick={props.onToggleQueue}\r\n          className={classes['button--alt']}\r\n        >\r\n          Закрыть\r\n        </button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Queue;\r\n","import React, { useReducer } from 'react';\r\nimport QueueContext from './queue-context';\r\n\r\nconst defaultQueueState = {\r\n  items: [],\r\n};\r\n\r\nconst queueReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const existingQueueItemIndex = state.items.findIndex(\r\n      item => item.name === action.item.name\r\n    );\r\n\r\n    const existingQueueItem = state.items[existingQueueItemIndex];\r\n    let updatedItems;\r\n\r\n    if (existingQueueItem) {\r\n      const updatedItem = {\r\n        ...existingQueueItem,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingQueueItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'REMOVE') {\r\n    const existingQueueItemIndex = state.items.findIndex(\r\n      item => item.id === action.item.id\r\n    );\r\n\r\n    const existingItem = state.items[existingQueueItemIndex];\r\n\r\n    let updatedItems;\r\n    if (existingItem.id === action.item.id) {\r\n      updatedItems = state.items.filter(item => item.id !== action.item.id);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n    };\r\n  }\r\n  return defaultQueueState;\r\n};\r\n\r\nconst QueueProvider = props => {\r\n  const [queueState, dispatchQueueState] = useReducer(\r\n    queueReducer,\r\n    defaultQueueState\r\n  );\r\n\r\n  const addItemToQueueHandler = item => {\r\n    dispatchQueueState({\r\n      type: 'ADD',\r\n      item: item,\r\n    });\r\n  };\r\n  const removeItemFromQueueHandler = item => {\r\n    dispatchQueueState({\r\n      type: 'REMOVE',\r\n      item: item,\r\n    });\r\n  };\r\n\r\n  const queueContext = {\r\n    items: queueState.items,\r\n    addItem: addItemToQueueHandler,\r\n    removeItem: removeItemFromQueueHandler,\r\n  };\r\n\r\n  return (\r\n    <QueueContext.Provider value={queueContext}>\r\n      {props.children}\r\n    </QueueContext.Provider>\r\n  );\r\n};\r\n\r\nexport default QueueProvider;\r\n","import React, { useState } from 'react';\nimport Header from './components/Layout/Header.jsx';\nimport Movies from './components/Movies/Movies.jsx';\nimport Queue from './components/Queue/Queue.jsx';\nimport QueueProvider from './store/QueueProvider.jsx';\n\nfunction App() {\n  const [openQueue, setOpenQueue] = useState(false);\n\n  const toggleQueueHandler = () => {\n    !openQueue && setOpenQueue(true);\n    openQueue && setOpenQueue(false);\n  };\n\n  return (\n    <QueueProvider>\n      {openQueue && <Queue onToggleQueue={toggleQueueHandler} />}\n      <Header onToggleQueue={toggleQueueHandler} />\n      <main>\n        <Movies />\n      </main>\n    </QueueProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}